<div class="listagem-container">
  <h2>{{ title }}</h2>

  <div class="actions-header" *ngIf="showActions">
    <button (click)="onAddItem()" class="btn btn-primary">Adicionar Novo</button>
  </div>

  <div class="table-responsive">
    <table class="data-table">
      <thead>
        <tr>
          <th *ngFor="let col of columns">{{ col.header }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of data">
          <td *ngFor="let col of columns">
            <ng-container [ngSwitch]="col.isActionColumn">
              <ng-container *ngSwitchCase="true">
                <button (click)="onSelectItem(item)" class="btn btn-sm btn-info">Ver/Editar</button>
                <button (click)="onDeleteItem(item)" class="btn btn-sm btn-danger">Excluir</button>
              </ng-container>
              <ng-container *ngSwitchCase="false">
                <ng-container [ngSwitch]="col.type">
                  <span *ngSwitchCase="'currency'">
                    {{ item[col.field] | currency:'BRL':'symbol':'1.2-2':'pt' }}
                  </span>
                  <span *ngSwitchCase="'date'">
                    {{ item[col.field] | date:'shortDate':'pt' }}
                  </span>
                  <span *ngSwitchCase="'number'">
                    {{ item[col.field] | number }}
                  </span>
                  <span *ngSwitchDefault>
                    {{ item[col.field] }}
                  </span>
                </ng-container>
              </ng-container>
              <ng-container *ngSwitchDefault>
                {{ item[col.field] }}
              </ng-container>
            </ng-container>
          </td>
        </tr>
        <tr *ngIf="data.length === 0">
          <td [attr.colspan]="columns.length" class="text-center">Nenhum item encontrado.</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>