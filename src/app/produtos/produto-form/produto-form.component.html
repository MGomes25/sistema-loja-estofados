<div class="produto-form-container">
  <h2>{{ isEditMode ? 'Editar Produto' : 'Novo Produto' }}</h2>

  <form [formGroup]="produtoForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="nome">Nome do Produto:</label>
      <input id="nome" type="text" formControlName="nome" class="form-control" />
      <div *ngIf="produtoForm.get('nome')?.invalid && (produtoForm.get('nome')?.dirty || produtoForm.get('nome')?.touched)" class="error-message">
        <div *ngIf="produtoForm.get('nome')?.errors?.['required']">Nome é obrigatório.</div>
      </div>
    </div>

    <div class="form-group">
      <label for="tipo">Tipo:</label>
      <input id="tipo" type="text" formControlName="tipo" class="form-control" />
      <div *ngIf="produtoForm.get('tipo')?.invalid && (produtoForm.get('tipo')?.dirty || produtoForm.get('tipo')?.touched)" class="error-message">
        <div *ngIf="produtoForm.get('tipo')?.errors?.['required']">Tipo é obrigatório.</div>
      </div>
    </div>

    <div class="form-group">
      <label for="descricao">Descrição:</label>
      <textarea id="descricao" formControlName="descricao" class="form-control"></textarea>
    </div>

    <div class="form-group">
      <label for="preco">Preço:</label>
      <input id="preco" type="number" formControlName="preco" class="form-control" />
      <div *ngIf="produtoForm.get('preco')?.invalid && (produtoForm.get('preco')?.dirty || produtoForm.get('preco')?.touched)" class="error-message">
        <div *ngIf="produtoForm.get('preco')?.errors?.['required']">Preço é obrigatório.</div>
        <div *ngIf="produtoForm.get('preco')?.errors?.['min']">Preço deve ser maior que zero.</div>
      </div>
    </div>

    <div class="form-group">
      <label for="estoque">Estoque:</label>
      <input id="estoque" type="number" formControlName="estoque" class="form-control" />
      <div *ngIf="produtoForm.get('estoque')?.invalid && (produtoForm.get('estoque')?.dirty || produtoForm.get('estoque')?.touched)" class="error-message">
        <div *ngIf="produtoForm.get('estoque')?.errors?.['required']">Estoque é obrigatório.</div>
        <div *ngIf="produtoForm.get('estoque')?.errors?.['min']">Estoque não pode ser negativo.</div>
      </div>
    </div>

    <div class="form-group">
      <label for="imagemUrl">URL da Imagem:</label>
      <input id="imagemUrl" type="text" formControlName="imagemUrl" class="form-control" />
    </div>

    <div class="form-group">
      <label for="cor">Cor:</label>
      <input id="cor" type="text" formControlName="cor" class="form-control" />
    </div>

    <fieldset formGroupName="dimensoes">
      <legend>Dimensões</legend>
      <div class="form-group">
        <label for="largura">Largura:</label>
        <input id="largura" type="text" formControlName="largura" class="form-control" />
      </div>
      <div class="form-group">
        <label for="altura">Altura:</label>
        <input id="altura" type="text" formControlName="altura" class="form-control" />
      </div>
      <div class="form-group">
        <label for="profundidade">Profundidade:</label>
        <input id="profundidade" type="text" formControlName="profundidade" class="form-control" />
      </div>
    </fieldset>

    <div class="form-actions">
      <button type="button" (click)="onCancel()" class="btn btn-secondary">Cancelar</button>
      <button type="submit" [disabled]="produtoForm.invalid" class="btn btn-primary">
        {{ isEditMode ? 'Salvar Alterações' : 'Cadastrar Produto' }}
      </button>
    </div>
  </form>
</div>